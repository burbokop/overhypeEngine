'use strict';

let lib = require('./build/Release/module.node');
lib.math =  require('./lib/math');





let level = 0;
lib.objInfo = (object) => {
    level++;
    for(const field in object) {
        const type = typeof object[field];
        console.log('─'.repeat(level * 3) + ' ' + type + ' : ' + field);
        //├ └──
        if(type === 'function') {
        } else if (type === 'object') {
            lib.objInfo(object[field]);
        }
        //lib.objInfo(field);
    }
    level--;
}

lib.structure = () => {
    console.log('overhype');
    lib.objInfo(lib);
}

lib.manual = () => {
    return {
        functions: [
            {
                id: 'createWindow',
                args: [
                    'obj: { title: string,\n\tx: int,\n\ty: int,\n\tw: int obligatory,\n\th: int obligatory,\n\tflags: uint,\n }'
                ]
            }
        ],
        examples: [
            () => {
                console.log('This should be eight:', lib.add(3, 5));
                lib.init();
                lib.createWindow();
                lib.fillRect();
                lib.updateWindowSurface();
                lib.delay();
                lib.quit();
            }
        ]
    }
}

module.exports = lib;